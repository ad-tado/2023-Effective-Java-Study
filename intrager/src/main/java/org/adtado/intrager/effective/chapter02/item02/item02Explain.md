# Item02 생성자에 매개변수가 많다면 빌더를 고려하라

## 1. 멀티스레드 환경에서 점층적 생성자 패턴, 자바빈즈 패턴, 빌더 패턴을 테스트하고(코드 작성), 각 패턴의 차이점, 장단점에 대해서 분석하세요.

테스트는 `Item02ConstructorResponseTest`를 참고 바랍니다.

### 점층적 생성자 패턴

장점
- 객체 생성과 동시에 멤버변수를 초기화한다
- 매개변수가 없는 굳이 초기화하지 않아도 컴파일러가 자동으로 default 생성자를 만들어준다
- 매개변수들이 유효한지를 생성자에서만 확인하면 일관성을 유지할 수 있다

단점
- 매개변수가 많아지면 클라이언트 코드를 작성하거나 읽기 어렵다
- 사용하길 원치 않는 매개변수까지 포함하기 쉬우며, 포함을 하거든 값을 지정해줘야 한다
  - 즉, 선택적으로 값을 집어넣을 수 있는 매개변수가 없다

### 자바빈즈 패턴

장점
- 점층적 생성자 패턴에 비해 여러 매개변수를 가지고 있는 생성자를 호출할 필요가 없다
  - 여러 매개변수를 가지고 있는 생성자 대신 set메서드들을 호출하면 된다
    - 이렇게 하면 선택 매개변수의 존재가 성립되고
    - 원하는 매개변수의 값을 설정할 수 있다

단점
- 객체 하나를 만들려면 메서드를 여러 개 호출해야 한다
- 객체가 완전히 생성되기 전까지는 일관성(consistency)이 무너진 상태에 놓이게 된다
- 클래스를 불변으로 만들 수 없다
- 스레드 안전성을 얻으려면 프로그래머가 추가 작업을 해야 한다

### 빌더 패턴

장점
- 코드를 읽기 쉽다
- 인스턴스 생성 후 불변인 객체를 얻을 수 있다
- 가변인수 매개변수 여러 개를 사용할 수 있다
  - 빌더에 넘기는 매개변수에 따라 다른 객체를 만들 수도 있다
- 계층적으로 설계된 클래스와 함께 쓰기에 좋다
  - 추상 메서드로 하위 클래스에서 형변환하지 않고도 메서드 연쇄를 지원할 수 있다
- 여러 객체를 순회하면서 만들 수 있다

단점
- 객체를 만들려면, 그 전에 엄청 긴 builder()부터 만들어야 한다
- 빌더 생성 비용이 크지는 않지만, 성능에는 이슈가 발생할 수 있다
- 매개변수가 4개 이상은 되어야 값어치를 한다